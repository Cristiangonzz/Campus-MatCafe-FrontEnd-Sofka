<div class="page-content page-container" id="page-content">
  <div class="padding">
    <div *ngIf="rol" class="card-body">
      <button class="btn btn-success" (click)="crearCurso()">
        Crear Curso
      </button>
    </div>
    <h1 class="mb-2">Nuestros Cursos:</h1>
    <div class="row">
      <div
        class="col-sm-4 card-group"
        *ngFor="let course of courses; let i = index"
      >
        <div class="card">
          <div class="media media-2x1 gd-primary">
            <p class="light media-content m-0">
              <a
                id="link-course"
                class="light"
                href="/course/get/{{ course._id }}"
              >
                {{ course.title }}
              </a>
            </p>
          </div>
          <div class="card-body">
            <p class="card-text">{{ course.description }}</p>
            <h5>Duraci√≥n:</h5>
            <p class="card-text">
              <small class="text-muted">{{ course.duration }}</small>
            </p>
            <h5>Requisitos:</h5>
            <p class="card-text">
              <small class="text-muted">{{ course.requirements }}</small>
            </p>
            <h5 id="mouse" (click)="showContent(i)">
              <span [class.show]="ArrayShowContent[i]">
                Mostrar contenido:
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 48 48"
                  width="20"
                  height="20"
                  fill="black"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <polygon points="24 36 8 16 40 16" />
                </svg>
              </span>

              <span [class.show]="!ArrayShowContent[i]">
                Ocultar contenido:
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 48 48"
                  width="20"
                  height="20"
                  fill="black"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <polygon points="24 12 8 32 40 32" />
                </svg>
              </span>
            </h5>

            <p
              class="card-text"
              [class.show]="!ArrayShowContent[i]"
              *ngFor="let unique of course.content"
            >
              <small class="text-muted">{{ unique | title | async }}</small>
            </p>
          </div>
          <div *ngIf="rol" class="card-body">
            <button class="btn btn-success" (click)="openModal(i)">
              Actualizar Curso
            </button>
            <button
              class="btn btn-danger ms-5"
              (click)="deleteCourse(course.id)"
            >
              Eliminar curso
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Formulario</h2>
  </div>
</div>

<div
  class="modal fade"
  [class.show]="showModal"
  id="exampleModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Actualizar curso</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
          (click)="closeModal()"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-update-course [courseInput]="selected"></app-update-course>
      </div>
    </div>
  </div>
</div>
